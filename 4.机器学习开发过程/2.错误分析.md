# 错误分析

在帮助运行诊断以选择下一步尝试以提高算法性能的最重要方法而言，**偏差和方差**可能是最重要的想法，而**错误分析**一般在第二位。



## 1.问题引入

 ![image-20240107145657340](C:\Users\chen\AppData\Roaming\Typora\typora-user-images\image-20240107145657340.png)

假设在验证集中有500个验证样本，并且我们的算法错误分类了这500个交叉验证集样本中的100个。

**错误分析**过程只是**手动查看** 这100个**被错误分类**的样例，并试图**深入了解算法出错的地方**。

具体来说，可以从交叉验证集中找到一组算法错误分类的样本，并尝试将它们分组为共同的主题或共同的属性或共同的特征。

> 注意：在将被错误分类的样本进行分组之后，组与组之间可能存在相交的部分，即组与组之间并不是完全互相独立的

例如：

- 如果我们注意到很多被错误分类的垃圾邮件是药品销售，那么可以手动查看被错误分类的样本中有多少电子邮件是药品销售的垃圾邮件（假设有21封）
- 如果怀疑故意拼写错误会影响垃圾邮件分类器，那么可以检查并计算被错误分类的样本中有多少是故意拼写错误的（假设有3封）
- 依次类推，手动查看并计算各个可能影响分类器因素的组中有多少被错误分类的邮件

假设经过计算之后，有以下结果：

![image-20240107150353274](C:\Users\chen\AppData\Roaming\Typora\typora-user-images\image-20240107150353274.png)

那么通过 **错误分析**，我们可以知道，即使我们构建非常复杂的算法来查找故意拼写错误，它也只能解决100个错误分类样本中的3个，所以在这个方向上优化算法是效率低下的，所以这个因素应该被置为较低的优化优先级以避免浪费时间；

> 通过**错误分析**，我们可以分析出算法可以在哪些方向上进行优化，或者在多个可优化的方向上选择出优先级更高的方向，以提高优化算法的效率，避免浪费时间
>
> 例如，经过**错误分析**，如果我们发现很多错误是医药销售垃圾邮件，那么可以在该方向上进行下一步工作以优化算法。
>
> - 例如，我们可以决定收集更多的医药销售垃圾邮件（而**不是所有数据**），以便学习算法可以更好地识别这些药物垃圾邮件；
> - 或者，可能添加一些与药物名称相关的**新特征**，以帮助学习算法更好地识别药物销售垃圾邮件；



以上例子中，我们手动检查了包含500个样本的交叉验证集中被错误分类的100个样本，但如果有一个更大的交叉验证集，比如说有5000个样本的交叉验证集，如果算法错误分类了1000个，则我们可能没有时间手动检查所有样本并进行错误分析（这却决于团队规模和花费在这个项目上的时间），此时我们可以**随机抽取出包含100个错误分类样本的子集进行错误分析**。



**错误分析**的要点是通过**手动检查**算法错误分类或错误标记的一组样例，然后根据分析结果决定在哪些方向（因素）上对算法进行优化，或者避免在某些影响较小的方向进行优化而浪费较多时间。



**错误分析** 和 **诊断偏差和方差** 可以**结合使用**，例如，**诊断偏差和方差**可以告诉我们**收集更多的数据**对算法优化是否有效，然后再根据**错误分析**的结果，选择收集对算法优化影响较大的方面的数据，以更好的优化算法。
